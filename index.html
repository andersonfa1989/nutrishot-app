<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NutriShot Elements - Cadastro & IMC</title>
    <style>
        body { margin: 0; font-family: -apple-system, sans-serif; background: #f8f9fa; color: #333; }
        .container { padding: 20px; }
        .card { background: #fff; padding: 20px; border-radius: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
        .input-estilizado { width: 100%; padding: 15px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 12px; box-sizing: border-box; font-size: 16px; }
        .btn-preto { width: 100%; background: #000; color: #fff; border: none; padding: 18px; border-radius: 30px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .label-campo { font-weight: bold; font-size: 14px; margin-bottom: 5px; display: block; }
        .resultado-imc { background: #f0f4ff; padding: 15px; border-radius: 12px; margin-top: 10px; border: 1px solid #d0d7de; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
      // Estado Global do App
      let telaAtual = 'cadastro'; 
      let dadosUsuario = { nome: '', peso: 0, altura: 0, objetivo: 'perder', imc: 0, metaCalorica: 2000 };

      function navegar(tela) {
        telaAtual = tela;
        renderizar();
        window.scrollTo(0,0);
      }

      function calcularSaude() {
        const peso = parseFloat(document.getElementById('peso').value);
        const altura = parseFloat(document.getElementById('altura').value) / 100; // converter cm para m
        const nome = document.getElementById('nome').value;
        const obj = document.getElementById('objetivo').value;

        if (peso > 0 && altura > 0) {
          const imc = (peso / (altura * altura)).toFixed(1);
          let meta = 0;

          // Cálculo simplificado de meta calórica baseada no objetivo
          if (obj === 'perder') meta = peso * 25;
          else if (obj === 'ganhar') meta = peso * 35;
          else meta = peso * 30;

          dadosUsuario = { nome, peso, altura: altura*100, objetivo: obj, imc, metaCalorica: Math.round(meta) };
          navegar('home');
        } else {
          alert("Por favor, preencha peso e altura corretamente.");
        }
      }

      function renderizar() {
        const root = document.getElementById('root');

        // --- TELA DE CADASTRO (Captura Peso/Altura) ---
        if (telaAtual === 'cadastro') {
          root.innerHTML = `
            <div class="container" style="text-align: center;">
              <h1 style="font-size: 32px; margin-bottom: 10px;">Criar Conta</h1>
              <p style="color: #666; margin-bottom: 30px;">Informe seus dados para o cálculo de IMC</p>
              
              <div style="text-align: left;">
                <span class="label-campo">Nome Completo</span>
                <input type="text" id="nome" class="input-estilizado" placeholder="Ex: Isaac Ferreira">

                <span class="label-campo">Seu Peso (kg)</span>
                <input type="number" id="peso" class="input-estilizado" placeholder="Ex: 80">

                <span class="label-campo">Sua Altura (cm)</span>
                <input type="number" id="altura" class="input-estilizado" placeholder="Ex: 175">

                <span class="label-campo">Seu Objetivo</span>
                <select id="objetivo" class="input-estilizado">
                  <option value="perder">Perder Peso</option>
                  <option value="manter">Manter Peso</option>
                  <option value="ganhar">Ganhar Massa Muscular</option>
                </select>

                <button class="btn-preto" onclick="calcularSaude()" style="margin-top: 20px;">Finalizar e Ver IMC</button>
              </div>
            </div>
          `;
        }

        // --- TELA HOME (Mostra resultados do IMC) ---
        else if (telaAtual === 'home') {
          root.innerHTML = `
            <div style="padding: 20px; background: #fff; border-bottom: 1px solid #eee;">
              <b style="font-size: 18px;">Olá, ${dadosUsuario.nome}!</b>
            </div>
            <div class="container">
              <div class="card" style="background: #000; color: #fff;">
                <b>Seu Status de Saúde</b>
                <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                  <div><span style="opacity: 0.7;">IMC</span><br><b style="font-size: 22px;">${dadosUsuario.imc}</b></div>
                  <div><span style="opacity: 0.7;">Meta Diária</span><br><b style="font-size: 22px;">${dadosUsuario.metaCalorica} cal</b></div>
                </div>
              </div>

              <div class="card">
                <b>Sugestão NutriShot</b>
                <div style="background: #eef2ff; padding: 15px; border-radius: 12px; margin-top: 10px; font-size: 14px;">
                  ${dadosUsuario.objetivo === 'perder' ? 
                    'Para o seu IMC de ' + dadosUsuario.imc + ', recomendamos foco em fibras e proteínas magras para queima calórica.' : 
                    'Seu objetivo é ganhar massa. Priorize carboidratos complexos e proteínas em todas as refeições.'}
                </div>
              </div>

              <button class="btn-preto" onclick="navegar('cadastro')" style="background: #fff; color: #000; border: 1px solid #ddd; margin-top: 20px;">Editar Dados</button>
            </div>
          `;
        }
      }

      renderizar();
    </script>
</body>
</html>
