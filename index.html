<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>NutriShot AI</title>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6941311170472131" crossorigin="anonymous"></script>

<style>
:root {
    --primary: #2ab573;
    --blue: #2490eb;
    --bg: #f5f7f9;
    --sidebar-w: 280px;
}

body { margin: 0; font-family: 'Segoe UI', Roboto, sans-serif; background: var(--bg); display: flex; }

/* BARRA LATERAL (SIDEBAR) - AJUSTADA PARA O DESIGN DA IMAGEM */
.sidebar {
    width: var(--sidebar-w);
    height: 100vh;
    background: #fff;
    position: fixed;
    border-right: 1px solid #e0e0e0;
    display: flex;
    flex-direction: column;
    z-index: 1000;
}

.sidebar-header {
    padding: 45px 25px 30px;
    background: linear-gradient(135deg, var(--blue) 0%, var(--primary) 100%);
    color: #fff;
}

.sidebar-header b { font-size: 24px; display: block; margin-bottom: 5px; }
.sidebar-header small { opacity: 0.9; font-size: 14px; }

.menu-content { flex-grow: 1; padding-top: 15px; }

.menu-item {
    padding: 16px 25px;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    font-weight: 500;
    color: #444;
    transition: 0.2s;
    border-left: 4px solid transparent;
}

.menu-item:hover { background: #f0fdf4; color: var(--primary); }
.menu-item.active { background: #f0fdf4; color: var(--primary); border-left-color: var(--primary); }

/* Item Sair conforme a imagem */
.menu-item.logout {
    color: #f39c12; /* Cor alaranjada do print */
    border-top: 1px solid #f5f5f5;
    margin-top: auto;
    padding-bottom: 40px;
}

/* √ÅREA DE CONTE√öDO */
.main-content {
    margin-left: var(--sidebar-w);
    flex-grow: 1;
    min-height: 100vh;
    padding: 20px;
}

.card { background: #fff; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); border: 1px solid #eee; }
.progress { height: 12px; background: #eee; border-radius: 10px; overflow: hidden; margin: 15px 0; }
.progress div { height: 100%; background: var(--primary); transition: 0.5s; }

.btn-action { width: 100%; padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
.btn-primary { background: var(--primary); color: #fff; }
.btn-blue { background: var(--blue); color: #fff; }

.fab { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: #000; color: #fff; font-size: 24px; border: none; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }

/* Responsividade simples para celulares */
@media (max-width: 768px) {
    .sidebar { left: -280px; transition: 0.3s; }
    .sidebar.mobile-active { left: 0; }
    .main-content { margin-left: 0; }
    .mobile-menu-btn { display: block; }
}
</style>
</head>

<body>

<nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <b id="brandName">NutriShot AI</b>
        <small id="userSub">Isaac ‚Ä¢ Foco Perda</small>
    </div>
    
    <div class="menu-content">
        <div class="menu-item active" id="m-home" onclick="nav('home')">üè† Dashboard</div>
        <div class="menu-item" id="m-catalogo" onclick="nav('catalogo')">üõí Loja de Suplementos</div>
        <div class="menu-item" id="m-medidas" onclick="nav('medidas')">‚öñÔ∏è Atualizar Medidas</div>
        <div class="menu-item" id="m-plano" onclick="nav('plano')">üìÖ Gerar Plano WhatsApp</div>
        <div class="menu-item" id="m-historico" onclick="nav('historico')">üìú Hist√≥rico Di√°rio</div>
    </div>

    <div class="menu-item logout" onclick="logout()">üüß Sair da Conta</div>
</nav>

<main class="main-content">
    <div id="app"></div>
</main>

<button class="fab" onclick="addRefeicao()">+</button>

<script>
// Dados e Estado
const SUPLEMENTOS = {
    ganho: [
        {nome:"Creatina Growth", link:"https://amzn.to/4b47g9o"},
        {nome:"Whey Chocolate", link:"https://amzn.to/3LjWMIB"}
    ],
    perda: [
        {nome:"Termog√™nico", link:"https://amzn.to/4b5phUQ"},
        {nome:"L-Carnitina", link:"https://amzn.to/4bBHcCw"}
    ]
};

let estado = JSON.parse(localStorage.getItem("nutrishot")) || {
    tela: "home", nome: "Isaac", objetivo: "perda",
    cal: 0, agua: 0, historico: []
};

function salvar() { localStorage.setItem("nutrishot", JSON.stringify(estado)); }

function nav(t) {
    estado.tela = t;
    salvar();
    
    // Atualiza classe ativa no menu
    document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
    const activeEl = document.getElementById('m-' + t);
    if(activeEl) activeEl.classList.add('active');
    
    render();
}

function logout() { localStorage.clear(); location.reload(); }

function render() {
    const app = document.getElementById("app");
    
    if(estado.tela === "home") {
        app.innerHTML = `
            <h2>Dashboard</h2>
            <div class="card">
                <b>üíß Hidrata√ß√£o Di√°ria</b>
                <div class="progress"><div style="width:${Math.min(100, (estado.agua/2000)*100)}%"></div></div>
                <p>${estado.agua}ml / 2000ml</p>
                <button class="btn-action btn-blue" onclick="addAgua()">+ Beber 250ml</button>
            </div>

            <div class="card">
                <b>üî• Consumo de Calorias</b>
                <h1 style="margin: 10px 0">${estado.cal} <small style="font-size:16px; color:#888">kcal</small></h1>
                <small>Meta: 2500 kcal</small>
            </div>
        `;
    } 
    else if(estado.tela === "catalogo") {
        const lista = estado.objetivo === "ganho" ? SUPLEMENTOS.ganho : SUPLEMENTOS.perda;
        app.innerHTML = `
            <h2>Loja de Suplementos</h2>
            <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap:15px">
                ${lista.map(p => `
                    <div class="card" style="text-align:center">
                        <b>${p.nome}</b>
                        <a href="${p.link}" target="_blank">
                            <button class="btn-action btn-primary" style="margin-top:10px">Ver Pre√ßo</button>
                        </a>
                    </div>
                `).join("")}
            </div>
        `;
    }
    else if(estado.tela === "plano") {
        app.innerHTML = `
            <h2>Plano Alimentar</h2>
            <div class="card">
                <p>Receba seu plano sugerido direto no WhatsApp para f√°cil consulta.</p>
                <button class="btn-action btn-primary" onclick="gerarPlano()">üì≤ Enviar para WhatsApp</button>
            </div>
        `;
    }
}

/* Fun√ß√µes de A√ß√£o */
function addAgua() {
    estado.agua += 250;
    salvar();
    render();
}

function addRefeicao() {
    const cal = 350;
    estado.cal += cal;
    estado.historico.unshift({ tipo: "Refei√ß√£o", cal: cal, hora: new Date().toLocaleTimeString() });
    salvar();
    render();
}

function gerarPlano() {
    const texto = encodeURIComponent(`Meu Plano NutriShot AI üöÄ\nObjetivo: ${estado.objetivo}\nCalorias de hoje: ${estado.cal}kcal`);
    window.open(`https://wa.me/?text=${texto}`, "_blank");
}

// Inicializa√ß√£o
render();
</script>
</body>
</html>
